{"data":{"markdownRemark":{"html":"<h2 id=\"title-多任务切图\"><a href=\"#title-%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%88%87%E5%9B%BE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>title: 多任务切图</h2>\n<p>多任务切图可使用“<strong>单机多任务切图</strong>”和“<strong>多机多任务切图</strong>”两种切图方式。单机多任务即在一台计算机开启多个进程执行切图任务。多机多任务切图即为多个机器同时开启多个进程协同切图。使用以上两种切图方式对示例数据 China.smwu 中的 China 地图切图，以使用户了解多任务切图的操作方式。   </p>\n<h3 id=\"多任务切图流程\"><a href=\"#%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%88%87%E5%9B%BE%E6%B5%81%E7%A8%8B\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>多任务切图流程</h3>\n<p>进行多任务切图的流程，可分为四步：第一步：新建切图任务；  第二步：设置瓦片参数；  第三步：设置多任务参数；  第四步：执行多进程切图。</p>\n<p>  \n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/MultiTaskStep-071f86882697d1a194edcb9b40df01af-b791a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 535px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 99.62616822429905%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB9klEQVQ4y61U2W7bQAzU/z/3oR9R9CsCBEWdom1SX7EcyY6sw7qP1a3pkrIEO7BjwIkAYrG75CyHHErBha/rOl73oYBqRtDNAFXdnNyd+5RrgLt9hMlih/m3L2hC++OASZpi+bzCTlOBtkF3K+AJbdeDKKqr2V0EpKAhMC8KPPxTsdJ3dHNbhseAjuNA1zfQNA2FBP9ADY/qmOVo2+52yseBjVyWugU3iD8HMI5jPE4XeF5raJpP0GGR5zAtC77vS9rtdcChAeds6KrhCyRFe9Kw8/4M+G5JkEphz1a6pLwZKb/HijOs5YxWdS3XGlV1WHnfIE4SmKYJ27ZZk+x75FMdYoZyKJkQyDLBB5RBWVUIwoj3FNSPX8ZA7CNNyLpGccIZtU1/HkYxr8rvpYHZizW+YDghfs62iBLBe1GUeJi/Qn3dj9RUw+UzkZeopa7iVOD+SYfphhJwqmK+3o7Othvg/tcURdlnR4L+8WeOremOPuuNicnjUmbbsdGjd5MnOJ4EFCJDksRMl2pB4+V5Xk+/rDhzS8qGmlPLM6KeZRnCMGD6Q+0DKaumqXsdUi0IgE06UeMpmObPCVIsth40K0JxKD4ZqaOPaU+6r1wbJctP8fclwPe7r4hS66KwBy0y4PDqW6M76jr9YDfGCm1Xo2u7i75k/wEmLB78/x+Z2QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"MultiTaskStep\"\n        title=\"\"\n        src=\"/static/MultiTaskStep-071f86882697d1a194edcb9b40df01af-b791a.png\"\n        srcset=\"/static/MultiTaskStep-071f86882697d1a194edcb9b40df01af-077ec.png 210w,\n/static/MultiTaskStep-071f86882697d1a194edcb9b40df01af-affd5.png 420w,\n/static/MultiTaskStep-071f86882697d1a194edcb9b40df01af-b791a.png 535w\"\n        sizes=\"(max-width: 535px) 100vw, 535px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n        </p>\n<h3 id=\"单机多任务切图\"><a href=\"#%E5%8D%95%E6%9C%BA%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%88%87%E5%9B%BE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>单机多任务切图</h3>\n<p><strong>第一步：新建切图任务</strong>  </p>\n<p>1.打开待切示例地图数据 China.smwn 工作空间，将数据源设置为只读并保存工作空间。<strong>注</strong>：如若切图数据存储在远程服务器中，请在此处以打开远程服务器中的共享切图数据。</p>\n<p>新建切图任务的入口有三处：    </p>\n<ul>\n<li>在“地图”选项卡的“制图”组，单击“多任务”按钮。 </li>\n<li>在工作空间管理器“地图”节点，选择待切地图右键鼠标，在右键菜单中选择“生成地图瓦片（多任务）”项。  </li>\n<li>在地图窗口打开待切地图，在右键菜单中选择“生成地图瓦片（多任务）”项。</li>\n</ul>\n<p>2.以上述任一方式操作将弹出“生成地图瓦片（多任务）”对话框。可选择三种多任务切图方式：新建多任务切图、执行多任务切图、更新/追加瓦片。此处选择“新建多任务切图”项，进行“下一步”操作。     </p>\n<ul>\n<li>\n<p><strong>新建多任务切图</strong>：新建一个多任务切图任务，并将当前地图拆分成多个子任务。</p>\n</li>\n<li>\n<p><strong>执行多任务切图</strong>：选择其他机器上已存在的切图工作目录，协同执行多任务切图，提高切图效率。  </p>\n</li>\n<li>\n<p><strong>更新/追加瓦片</strong>：对已完成的切图任务进行更新或追加操作。  </p>\n</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/NewMultiTask-0965991ff2ae5e194e3dccea04a4a721-6ecc0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 596px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABe0lEQVQoz51RS07DMBTsMSrBIViy4AS9AadB3XfHEpbcprBAbCqhkjZN2ubjxM7H+TjJ8OykCAJIiFeNZvqeMn5jTy4Wz7h+eMXsboXZ/QpXty+Y3ixxNn/8M84J0/kTLhdLTFxewdkfsd7sYG0diExCAaiajgCUA9dtrwsSY8i6geoAl6WYsKyGY9vYbm04jgvGGOzNFnvXxfFwAAuZYcuyzKyvbsDXCkWOSUiGZSHBRQIWxahr9eMnXffdQPc02rafeXHWG3q0wZu1wXptwfcD2iQi8wicCyRJf1DMuelHpD3PNzw29PlgKHiMkKIJoQ1SxDEnnSBNM+R5brTun+baWPO4fE6RWa4QBj42dIf65JZObJqGoKBUD6MbZfqG257LsjQoigIt/feidIjseXDdPeydgzTLKCo3EfkviCkRFxxJmpitta5KiQMTZJgr/Kf05lIWhsuyIsMCx9OG+j31xZ4u+eMFx79PM5lLBGEISXH1wwU+pQw43gGmX+qUtiM5jgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"NewMultiTask\"\n        title=\"\"\n        src=\"/static/NewMultiTask-0965991ff2ae5e194e3dccea04a4a721-6ecc0.png\"\n        srcset=\"/static/NewMultiTask-0965991ff2ae5e194e3dccea04a4a721-0d720.png 210w,\n/static/NewMultiTask-0965991ff2ae5e194e3dccea04a4a721-4ced5.png 420w,\n/static/NewMultiTask-0965991ff2ae5e194e3dccea04a4a721-6ecc0.png 596w\"\n        sizes=\"(max-width: 596px) 100vw, 596px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n           </p>\n<p><strong>第二步：设置瓦片参数</strong></p>\n<p>1.弹出“设置地图瓦片参数”对话框，设置生成瓦片的比例尺、名称、存储类型、图片参数、路径设置及存储设置等参数。有关地图瓦片参数的具体描述，请参见<a href=\"SingleProcessCache.html\">单任务生成地图瓦片</a>。\n</p>\n<ul>\n<li><strong>瓦片类型</strong>：支持生成矢量瓦片和栅格瓦片两个格式的数据。  </li>\n<li><strong>路径设置</strong>：路径设置的“工作目录”，即为<strong>存储地图切图任务</strong>的路径，多任务切图在执行时，程序会根据已设置的切图比例尺、进程数等参数，自动在后台拆分切图任务，拆分切图任务时，会在当前设置的工作目录下生成一系列的、带有标识性名称的文件夹，用来存放拆分后的子任务。该路径既可以是本地路径，也可以远程服务器路径。   </li>\n<li><strong>存储类型</strong>：程序提供了三种瓦片存储类型，包括：原始、紧凑、MongoDB。   </li>\n</ul>\n<p> \n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/MultiTaskSetting-c0f30735c3a427d887036eccd2a98589-6d040.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 815px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 83.06748466257669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAChUlEQVQ4y31UyW7UQBCd30OAUJJ/4MSJC99CEBAkjlzgIxASEkLKKAnJrPHY46XbS3tf2o+q9jibJrH0VNU97VevXvV48u7HHG+/r/Dm2xwHn87w7P0pnh9P8fLDFC+OT/Hq4xmOTi5x9IVw8m/IOdL6kOLh5wscEHjv9dcpJk1VIK8qNFUJ3TUoc4VUxdB1gUj40E0F0H5L5zjXdWkir6FboO8GUL5yI0wurAg//87w+9zCOeW/TpeYrmOIrEMYRojiBJZlw/V8SBkiEAKCokfrNMtRlBWhhEozXG4kJr6Msdq4cPwQbhBhaW2higZVw4S053lYrtYIo+geIoKUkshvcWUTYZrEpMCCFBIqSWDbDrquRd9reol/22CxXBqFRUH25DnyXeT1DUjlzAkxCYl5NltAEKGgdlbra2jdo2kao44Pd11noLV+FF2nMd+Sh1mamuopeZAkyvjW9z3atkUQCLOv6IxSKUpScU/VDmVZIMuyoeWYvFgsV4aMfdluXfDDivwgMGvjEam/afkBeD8muy43YiBkn6q6NoSsaiSM49iQ1dQ+K34MfLakaRuFiobCKiq6iwlVCWkQ3HJdN0ZVnhdmzXjSQ73zsNedqTIYO5jPL3N0Xc+0xMX4DrKHnO8D+2imjEceLsCXmIdSkx2+75v7t5eQCpV5hPlIOLY0YvTQdhzTMufs490uHqKhLudOtJ9whOcH5jrwFHlY3H6apWZvRLqLSqlhKKa9PWRclQn5BVYnpLgD+QDC2HFlP+Eh6UZJyjT9DTnnLxHnHX95mhpd2xBuY0tx6caYyCRHEO+HVCVEUpico1AFvDDFgj4mliexsn1cuxJrx8fV2sGf2Rb/AUV4CNDWdYULAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"MultiTaskSetting\"\n        title=\"\"\n        src=\"/static/MultiTaskSetting-c0f30735c3a427d887036eccd2a98589-6d040.png\"\n        srcset=\"/static/MultiTaskSetting-c0f30735c3a427d887036eccd2a98589-9dd03.png 210w,\n/static/MultiTaskSetting-c0f30735c3a427d887036eccd2a98589-e060d.png 420w,\n/static/MultiTaskSetting-c0f30735c3a427d887036eccd2a98589-6d040.png 815w\"\n        sizes=\"(max-width: 815px) 100vw, 815px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n        </p>\n<p>2.设置好以上参数后，单击“下一步”按钮，在对话框中设置瓦片范围、索引范围等参数。有关瓦片范围参数的具体描述，请参见“单任务生成地图瓦片”。    </p>\n<p>3.完成参数设置，单击“下一步”程序将自动执行切图任务拆分，并在工作目录下生成一个以瓦片名称命名的文件夹，即为工作目录文件，同时弹出“多任务切图”对话框。</p>\n<ul>\n<li>\n<p>任务拆分完成后，在工作目录下会生成一个以瓦片名称命名的文件夹，如下图中的 China 文件夹，用于存放瓦片配置文件（<em>.sci），切完瓦片之后直接打开该</em>.sci文件，即可查看 china 地图瓦片；该路径还会生成一个“CacheTask”文件夹，其中包含check、task两个文件夹，文件夹中的存放内容如下：  </p>\n<ul>\n<li><strong>check</strong>：存放了check.udb、check.udd，用于缓存检查，检查切图后是否存在白图和空文件等情况。  </li>\n<li><strong>task</strong>：用于存放地图瓦片拆分后的子任务文件（*.sci）。<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/CacheFile-9d0efc2c1df5879767dde95cd8d9c5c3-b201d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 536px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.71641791044776%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACcklEQVQoz5VSTWjUQBid7SJKDx48CaIn9aLiwaNIFW/exNKbB0/iwYtHr57Ugy0UbKmoKBaxoLa2dUF3u/ZPrG3p7rLSpes2aTLZJpu/TTI/STY7TrJWsXjQB48ZPr7vzcvLB5p6YVEQxBJsGAMZQblsGus2lCRVlmTNbDq64vrQcWWs1WsR62CwYTRPKtvaVVGCV2RF7YX1Dk3b6wVIney+NlU4AUBf2qZuj9UoCpVK5ZtpWmXq0zIK2mXkikgSyola1fJGoW7lfUqYLMtMVTVOldm2zaI2YwDPDd81PjxYwMuvngIOYXN9z6NC7RyfPcJ5mHN/FNIzGHsX/DC8uGGho5bjZk1DZ4IgBJIkR6IoRJqmRZjQCLjZ/tPBl2eXaGnqfCwYtqJjCGMmiaLvU8qiqHUd7ILjep90vcFqtVpLkqR2TAiVNiZ+e3cvQIzt5a6OP/+Oe4Q2O8Xv+87GdUrTpmmk454mFzRN/aegzCCUGXfIEKYMuLmBFFkZ66Jrb5NmVJg4QOaH78Hs0OPm3MhIUJq8mdSXRlMLM5nkUbvpcEGDbW2JsUOepcQUpc5wLLgDsjqWnMHGbLc7M3iD5vpv4cUnt0nxXV8iuPo6VVieB78dGoxn16pWq3GWrF7fZjxD9sfn0tIk+BvI2ngK8B+4tJDtCDpeTlW3udCmzx22+BlCCEPuMPw1hJdfdoaLEwDNDqXR7HCaR5EOap+74rpnG6BS/LojuBKvkOO6zMOEEb5CUdRZU/CvcDwCWBQkdxeR+4TQPMZ4uqoZM5Tgad8P3iPiZ8D/AhenEsc0c+egl3/4xsoPfcRLL8ZRrv9QXP8BE4AKHeBIHNEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"CacheFile\"\n        title=\"\"\n        src=\"/static/CacheFile-9d0efc2c1df5879767dde95cd8d9c5c3-b201d.png\"\n        srcset=\"/static/CacheFile-9d0efc2c1df5879767dde95cd8d9c5c3-0828d.png 210w,\n/static/CacheFile-9d0efc2c1df5879767dde95cd8d9c5c3-eebd5.png 420w,\n/static/CacheFile-9d0efc2c1df5879767dde95cd8d9c5c3-b201d.png 536w\"\n        sizes=\"(max-width: 536px) 100vw, 536px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n         </li>\n</ul>\n</li>\n</ul>\n<p><strong>第三步：设置多任务参数</strong>   </p>\n<p>1.完成拆分后会弹出“多任务切图”对话框，用户可直接进行多任务切图参数设置，执行切图；也可关闭该对话框，使用其他计算机协同执行切图任务，即进行多机多任务切图，具体操作请参看“多机多任务切图”。<br>\n2.若使用本机多任务切图，则进行设置多任务参数，检查或设置工作空间路径、地图的名称，以及任务数等。   </p>\n<p>  \n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/MulteskDia-d889ddc18dcd5c05f9a668d6ee28f304-844b0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 723px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.48409405255878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACDklEQVQoz31Sy2oUQRTtLxUhRBAfX+BKBZUIPjZugsGNuIgLhaBInJDEwCCxp2c63T39qOqufkw/pp/zMMvj7RKGKOLiUNS9Veeec+9V9g5UvH5/jFf733Fvd4ibTw+x/fgL7jw/wd2X33D7xSm2Hh3i+sPPuPbgE7aefMX2zhFu7Axw69kx7u8N8YY4Prw7wMfdt1A0g2E4HEK/MFBWDbKsQJLMkKYZnak804QjjmMMBgMwXyCmvIhTRHGCGeWtqQMmQjhJDcVmIcbaCGEYYtGWyNIUTdNivV6jbVu6Z6jKOcUaaCMNqjqiojnyvCDkKIoCURQhnSVUIIOikkLT0FHMS3RlhJIedIsllssVqqqG47oQAZNFmMdg2w78MIHvc9hMgPEAQggk5MBwIyjnOpfsaZah7RaYz0upqrdalhVWqxWaaoa6rhFHMX0OwUUMz3MxdTlcKsIYo6I+RmYA5Yfh4/InfSJ7va3eZtd1Eu0m1sm86zgwLYsIE0ynFnTLg0WKHYoHfk/o/yZcLRekoNkQXMUmJgldTCY6OFnuFRqOLxV6nocZuRxPRd/DYEP4N9lV1ATOOalxZQ97EtsT8BjZdj1qVQHdiWltLIHL9fIPq/9GK6far48II0kuB0RWgyCgoUREGEI5U12k+Zz2KkOY5P8HvRlNTOimA3Vs4OjkDKp2AdPm0CYGTs9t/AIKfMwQFdYIngAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"MulteskDia\"\n        title=\"\"\n        src=\"/static/MulteskDia-d889ddc18dcd5c05f9a668d6ee28f304-844b0.png\"\n        srcset=\"/static/MulteskDia-d889ddc18dcd5c05f9a668d6ee28f304-b40bf.png 210w,\n/static/MulteskDia-d889ddc18dcd5c05f9a668d6ee28f304-3d3e6.png 420w,\n/static/MulteskDia-d889ddc18dcd5c05f9a668d6ee28f304-844b0.png 723w\"\n        sizes=\"(max-width: 723px) 100vw, 723px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n        </p>\n<ul>\n<li><strong>工作空间路径</strong>:选择待切地图所在的工作空间。注意：用户需确保该工作空间中的待切地图与拆分任务时的地图一致，若不一致，会导致结果无法正确浏览，此时建议用户对更新后的地图重新拆分任务后，再切瓦片。   </li>\n<li><strong>地图名称</strong>:待切的地图名称。   </li>\n<li><strong>任务数</strong>:设置切图的任务数，即在当前机器上开启几个进程来执行切图任务。进程数需要根据机器的配置和进程使用情况来设置。进程数可根据机器使用情况，随时进行调整，若输入的进程数比当前进程数多，单击“应用”按钮，即可及时增加一条进程执行切图；若输入的进程数比当前进程数少，单击“应用”按钮，即可及时减少一条正在执行切图的进程。   </li>\n<li><strong>工作目录</strong>:此处为拆分任务对话框中所设置的工作路径，若要执行多机多进程切图，需要将该文件设置为共享工作目录，确保其他机器对该共享目录有读写权限，便于其它切图机器上的进程从该目录中获取切图子sci，也方便切图结果的存放和汇总。 </li>\n</ul>\n<p><strong>第四步：执行多任务切图</strong></p>\n<ul>\n<li>\n<p>完成参数设置后，点击生成，执行切图任务。地图切图完成后，会弹出此次切图的用时统计，方便了解切图耗时。切好的地图瓦片会保存在总 sci 文件同级目录文件夹中，瓦片结果分别保存在对应的比例尺文件夹中，切图成功后通过加载 China.sci 瓦片配置文件即可查看所有切好的瓦片。<br>\n</p>\n</li>\n<li>\n<p>执行多进程切图时，会在 CacheTask 目录下生成一个 doing 文件夹，每个进程获取到的子任务会从 task 移至 doing 文件夹中。当子任务切图完成后，会将该任务从 doing 文件夹移至同级的 build 文件夹中，如若切图过程中有切图失败的子任务，会新生成一个 failed 文件放置失败的子任务，若中途终止切图，doing 文件夹中仍然有<em>.sci 文件，程序会自动将其中的</em>sci 文件移至 task 中重新再切。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/MultiProcessCachingFile-b100b0744afaff8f7ca5dd790af18591-6d994.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 492px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 54.67479674796748%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACnUlEQVQoz5WQy08TURTGb7s0mpjIwo0uBF25gPAP6B/g3rgwIS5MjAmJceHCaFhqFGMCYqqkPiChkAqipBrUCEItWMqjttDOTNsp0Md0pjNl5s6dx505TgFdGE30S27OuWfx5fd9CP1FAOBrTpuU7kvVFNneKiuSpn+Il+s9jutCpVyipVIJKpUyVAXBFQQBCDEIMg0jIstyRBRrEUkUI5IkReref0dV36mmO0l0YUupJaFalWBH05Zkw75umiYw2QzNMgxwLAssx7p8oQAa1kmTBCzLBFXdAbWheFMF26ZA4acI1LbjIIoKYE1b9g5XHYcCyzI0nU4Dx3HA87xb5Pk9Q2KYAVlR+kuCGGDLwvN6Xe6XZGUAYxwEF544Zj0hlFNSpVpTHdt6T6ndbdu2R8bQVCoFjEdZ8Ax/EdKZ3gMgRVti6aXj/XOxTrDjh6Hw6chvhfpQFQ41Vwfggus4zah2JpOB5svn87uEuGmox0fuuKth0L+FMJ4PEjz31CbJt4qenGpVF0eO2qsTt4TFsZ58NHzPjA52W5XMuFc+8IU85bicy3n9eYbOPqGOlPEbB3E02E7ioQ499rJdXxjqIMvhjka0D2mfH7Xh6LOEsTicNOaDK9rMwJrFx7exbkAhn4NsNgu5HAfFYhG2Njebhgb6X7kAFy3TAJbJWOvpNM1xjO0R0hzLuhrGKlI/PvBih/zG2hs/WX7lJyvju3tj8jZyqhtInbrrSx1DSOjr8u3VSVsyXLEzX6dtIsDJwfXamTrACRmg1XLg9B8p1One3SmPXkP61xfI+D6FGg/PIjMX8zfvePbxKSMxdgUvDF1KzY7eNGYHuoyl0GUy09fyz1EppQh/CewbBs7DxmuA9ATAWhggMQxQmgNjffrcD2gwQv1jzdtdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"MultiProcessCachingFile\"\n        title=\"\"\n        src=\"/static/MultiProcessCachingFile-b100b0744afaff8f7ca5dd790af18591-6d994.png\"\n        srcset=\"/static/MultiProcessCachingFile-b100b0744afaff8f7ca5dd790af18591-c66c3.png 210w,\n/static/MultiProcessCachingFile-b100b0744afaff8f7ca5dd790af18591-7d994.png 420w,\n/static/MultiProcessCachingFile-b100b0744afaff8f7ca5dd790af18591-6d994.png 492w\"\n        sizes=\"(max-width: 492px) 100vw, 492px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n        </p>\n</li>\n</ul>\n<h3 id=\"多机多任务切图\"><a href=\"#%E5%A4%9A%E6%9C%BA%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%88%87%E5%9B%BE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>多机多任务切图</h3>\n<p>　使用多机多任务切图的前提是需要在一台主机上完成拆任务的工作，然后将拆分后的任务部署在共享目录中从而实现多机同时访问。多机同时开启多条进程，每条进程会到指定的目录获取并执行切图任务，并将切图结果保存到同一个文件夹中。　 　　</p>\n<p>1.<strong>拆分任务</strong>：多台机器协同切图首先需要在一台主机上完成“新建切图任务”和“设置瓦片参数”两个步骤，操作方式同“单机多任务”。如上操作得到的拆分任务后的文件目录 Multi-task。<br>\n2.<strong>文件目录设置共享</strong>：将目录文件 “Multi-task”设置为共享文件，确保其他机器对该共享目录有读写权限，以便其它切图机器上的进程从该目录中获取切图子sci 任务。文件权限设置可通过文件夹属性面板中的共享设置，赋予其他机器有读取、写入权限。如下图所示，共享工作目录可设置密码访问权限，切图机器只要成功访问过一次这个目录，就可以正常切图了。</p>\n<p>  \n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ShareMultiFile-c8f6cac0db00499b1194af9b3879ebc3-5054a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 377px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 84.88063660477452%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADqElEQVQ4y3VSS28bVRSeJRs27BALQOI/sGDVHWxgA7+gYl8WgEACQluEKhCFBS8FAilV1UaFtHbiR53ErhM/YzuxHcfj8WPGM57Gr7E9fs77487EDq4qjnR0zv3mznfP+c6hbrsD+NMdx2+bSfzuyuCnjQi+WvXjw18SePdzP978aAuXrrhw6QM33vrYi/dWdnD5mzCu/BjDJ6tJfLqWwv3r3yJ4fQX3bvwAasMXhT+ShS9Cw7sbxt/ubdzddGOVPHDj9iGu/RHBl2sRXF2LkjyKr/9K4ObdFH59kMUtbwF3AkX8sxXH1vYB7mxGQIWSJYRDQWSOcug10silwsBMwFE8ALpYhMhzCAd34fO4sR/aQz57hJ1HflQYGtOxjPGwD3k4hKrOkClyoMIpBqNWAemoF5VjL4SCF1xuG+V8CNlkAGItA7nNQHpyin6TxqDFoCceYyhLmCoapjMFk+kMlqHjMFcBFTtiAFVEuZRFQ+BB0yXwvACOraFMqpiMRzg3c+7E1DYsfQSLpJZlwTAtB84UaqBS+Sqgixj3cjDIK4LQQDKZhCiK5Gw4F+2frOWoSLC0IeYfYc4J8zRp+aTEAtMGGDqLGsuiQYjK5fIFmWma/5Fa5z9aSveC0MbMOU5XeFD+SIFU2ETq8BABvx+542MI9TppdYx2u/0U2f8SzivcTzOgHgZzBJWQr9aRyBZQZAVUxDbk0QSj0UK/p81Se46Gi5YXGu7GaVAum9BoIpQ9gecghniBRp4XoegquaLD1BWYxrlbTtRgTESYqgybx5ZEn8uzl7AJHxfJ3okQqmk0G6eQyFrAIKLPzsg0W4DWvshNO5IztKZd2jOVO4TucJG8asDjfQSPx4dSqQyW49HqSKjzDVRrHDpSH7wgOjLU2DoKRYbgLCqVCjiiN8vVlys8JXVrSJBVYRiywBIhqnPo9XrgONbB+k7OOZFlbaKyg9M07eCVSnW5wlOyF5YxkIemPBygJ0nmYDDQ+/2+PpvNdGKmpmnm0mbbbsx7XnZzN160KF+s7LA/OWsiGHus+snqRKNRpNJp5/U6aanblZ6d9PlADOKmbpiLKZvUdvhEtgzV12q1GzYoy8P6ZDq9ReJn/cHgZ0VRR6qq9RRV5UneUlW1RrxEzvqCfKYodpeDcLoM6t7DnVcoYuvr62+73a6N729+9xK1ZBzLvky0fDWyv/9CJp16ccvtev7ayhfPkYG83ul03+90u5ertdobZw3utb2DzDv/AlVLslcdHxAtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ShareMultiFile\"\n        title=\"\"\n        src=\"/static/ShareMultiFile-c8f6cac0db00499b1194af9b3879ebc3-5054a.png\"\n        srcset=\"/static/ShareMultiFile-c8f6cac0db00499b1194af9b3879ebc3-d12e0.png 210w,\n/static/ShareMultiFile-c8f6cac0db00499b1194af9b3879ebc3-5054a.png 377w\"\n        sizes=\"(max-width: 377px) 100vw, 377px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    <br>\n3.对执行切图任务的每台机器分别进行以下操作：     </p>\n<ul>\n<li>向执行切图任务的机器中拷贝切图数据和桌面软件，启动桌面软件并打开待切地图数据。若切图数据存放于其他服务器中，则无需拷贝切图数据，直接打开远程服务器中的切图数据即可。  </li>\n<li>验证每台机器是否能连接 host 主机中的共享目录，如可以通过资源文件夹中输入 \\198.168.1.20（主机ip），进入共享目录。\n若切图类型为 MongoDB 型时，还需要验证每台机器是否能够连接存储瓦片的MongDB 数据库。  </li>\n<li>启动多任务切图程序：在“地图”选项卡“制图”分组中，单击“多任务”，在弹出的对话框中选择“执行多任务切图”，启动多任务切图程序。\n设置多任务参数：在弹出的“多任务切图”对话框中，设置工作空间路径、地图的名称，以及任务数等参数，其中工作目录即共享工作目录的地址。程序通过目录路径调取地图瓦片文件（总sci）和子任务（sci）。  </li>\n<li>每台切图机器会按照设置的任务数，在共享目录Task 文件夹领取拆分的子任务，不同的机器领取不同的任务，被领取的子任务会从 task 移至 doing 文件夹中。当子任务切图完成后，会将该任务从 doing 文件夹移至同级的 build 文件夹中。例如同时部署三台机器，进程数分别设置为6、8、10，则有24个子任务sci同时执行切图，切图完成的进程会再在 task 中领取任务，直到无任务可领，则执行切图完成。 </li>\n</ul>\n<p>4.完成切图任务，程序将给出完成提示对话框，多进程切图完成，并给出缓存结果路径和耗费时间。切好的缓存瓦片会保存在总 sci 文件同级目录文件夹中。若为 MongDB 的缓存类型，瓦片存储在 MongoDB 数据库中。 </p>","frontmatter":{"title":"","next":null,"prev":null},"fields":{"path":"content\\Java\\docs\\Cache\\CreateMultiProcessCache.md","slug":"/Java/docs/Cache/CreateMultiProcessCache.html"}}},"pageContext":{"slug":"/Java/docs/Cache/CreateMultiProcessCache.html"}}